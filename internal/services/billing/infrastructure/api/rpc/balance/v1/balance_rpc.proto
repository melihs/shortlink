syntax = "proto3";

package infrastructure.api.rpc.balance.v1;

option go_package = "github.com/batazor/shortlink/internal/billing/infrastructure/balance_rpc";

import "google/protobuf/empty.proto";
import "domain/billing/balance/v1/balance.proto";
import "domain/billing/payment/v1/payment.proto";

service BalanceService {
  rpc BalanceHistory(google.protobuf.Empty) returns(BalanceHistoryResponse) {}
  rpc BalanceUpdate(BalanceUpdateRequest) returns(BalanceUpdateResponse) {}
}

message BalanceUpdateRequest {
  domain.billing.balance.v1.Balance balance = 1;
}

message BalanceUpdateResponse {
  domain.billing.payment.v1.Payment payment = 1;
}

message BalanceHistoryResponse {
  repeated domain.billing.balance.v1.Balance list = 1;
}
