// Code generated by protoc-gen-gotemplate. DO NOT EDIT.
// source: pkg/link/link.proto
{{ $MyType := upperFirst .File.Package }}{{ $myType := lowerFirst .File.Package }}{{ $commands := list "Eq" "NotEq" "Lt" "LtOrEq" "Gt" "GtOrEq" "Like" "NotLike" }}
package postgres

import (
	"github.com/Masterminds/squirrel"

	"github.com/batazor/shortlink/internal/store/query"
)

func (p *PostgresLinkList) buildFilter(filter *query.Filter) interface{} {
	if filter != nil {
		clauses := squirrel.Eq{}

{{- range $type := .File.MessageType}}
{{- range $field := $type.Field}}
{{- range $command := $commands }}{{ if ne (upperFirst $field.Name) $MyType }}

		if filter.{{ upperFirst $field.Name }} != nil {
			if filter.{{ upperFirst $field.Name }}.{{$command}} != nil {
				clauses["{{$field.Name}}"] = filter.{{ upperFirst $field.Name }}.{{$command}}
			}
		}
		{{- end}}{{- end}}{{- end}}{{- end}}
	}

	return clauses
}
