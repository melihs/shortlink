kiali-operator:
  enabled: true

  onlyViewOnlyMode: true

  cr:
    create: true
    namespace: ""

    spec:
      istio_namespace: "istio-system"
      auth:
        strategy: anonymous
      kiali_feature_flags:
        ui_defaults:
          graph:
            find_options:
              - description: "Find: slow edges (> 1s)"
                expression: "rt > 1000"
              - description: "Find: unhealthy nodes"
                expression: "! healthy"
              - description: "Find: unknown nodes"
                expression: "name = unknown"
            hide_options:
              - description: "Hide: healthy nodes"
                expression: "healthy"
              - description: "Hide: unknown nodes"
                expression: "name = unknown"
          metrics_inbound:
            aggregations:
              - display_name: Istio Network
                label: topology_istio_io_network
              - display_name: Istio Revision
                label: istio_io_rev
          metrics_outbound:
            aggregations:
              - display_name: Istio Revision
                label: istio_io_rev
        certificates_information_indicators:
          enabled: true
          secrets:
            - cacerts
            - istio-ca-secret
      deployment:
        accessible_namespaces: ["**"]
        view_only_mode: false
      server:
        web_root: "/kiali"
      external_services:
        tracing:
          enabled: true
          in_cluster_url: 'http://grafana-tempo.grafana:3100'
          use_grpc: false
        grafana:
          enabled: true
          in_cluster_url: 'http://grafana.grafana:80'
          # Public facing URL of Grafana
          url: 'https://shortlink.best/grafana'
        prometheus:
          url: 'http://prometheus-prometheus.prometheus-operator:9090/'
        custom_dashboards:
          enabled: true
          label_selector: "app=grafana"
          namespace: "grafana"
          folder: "Kiali"
        istio:
          config_map_name: "istio"
          istiod_deployment_name: "istiod"
          istio_sidecar_injector_config_map_name: "istio-sidecar-injector"
          root_namespace: "istio-system"
          component_status:
            enabled: true
            components:
              - app_label: "istiod"
                is_core: true
                is_proxy: false
              - app_label: "istio-ingress"
                is_core: true
                is_proxy: true
                namespace: istio-ingress
