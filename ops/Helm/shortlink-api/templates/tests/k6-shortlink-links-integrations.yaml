apiVersion: tests.testkube.io/v3
kind: Test
metadata:
  name: shortlink-links-integrations
  namespace: testkube
  labels:
    {{- with .Values.commonLabels }}
      {{- include "common.tplvalues.render" (dict "value" . "context" $) | nindent 4 }}
    {{- end }}
    {{- include "helpers.labels" . | nindent 4 }}
spec:
  type: k6/script
  content:
    type: git-dir
    repository:
      type: git
      uri: https://github.com/shortlink-org/shortlink.git
      branch: main
      path: internal/services/api/tests/integrations
    executionRequest:
      activeDeadlineSeconds: 60
  executionRequest:
    args:
      - internal/services/api/tests/integrations/k6-crud.js
