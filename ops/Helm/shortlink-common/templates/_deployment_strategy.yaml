{{/* vim: set filetype=mustache: */}}

{{- define "shortlink-common.deploymentStrategy" }}

{{- if eq .Values.deploy.type "Rollout" -}}
blueGreen:
  activeService: rollout-bluegreen-active
  previewService: rollout-bluegreen-preview
  autoPromotionEnabled: false
{{- else -}}
type: RollingUpdate
rollingUpdate:
  maxSurge: 1
  maxUnavailable: 0
{{- end }}
{{- end }}
