include:
  - local: /ops/gitlab/templates/common.yml
  - local: /ops/gitlab/workflows/matrix_deploy.yml
  - local: ops/gitlab/pipelines/addons/addons.yml
  - local: ops/gitlab/pipelines/addons/database.yml

stages:
  - .pre
  - addons

# ARGO CD ==============================================================================================================
argo-cd:
  extends:
    - .matrix_deploy_provider
  stage: addons
  trigger:
    include:
      - local: 'ops/gitlab/pipelines/addons/argocd/argocd.yml'
    strategy: depend
  needs: []
  rules:
    - when: manual
