# BUILD IMAGE ==========================================================================================================
docker:build_go:
  stage: build
  trigger:
    include:
      - local: 'ops/gitlab/pipelines/docker_build_base.yml'
    strategy: depend
  needs:
    - job: GOLANG
    - job: DEPENDENCY
  rules:
    - if: $CI_COMMIT_TAG
      when: on_success

docker:build_nodejs:
  stage: build
  trigger:
    include:
      - local: 'ops/gitlab/pipelines/docker_build_nodejs.yml'
    strategy: depend
  needs:
    - job: DEPENDENCY
  rules:
    - if: $CI_COMMIT_TAG
      when: on_success

helm-chart:build:
  stage: build
  trigger:
    include:
        - local: 'ops/gitlab/pipelines/helm_chart_build.yml'
    strategy: depend
  needs:
    - job: HELM
  rules:
    - if: $CI_COMMIT_TAG
      when: on_success
